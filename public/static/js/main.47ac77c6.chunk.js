(this.webpackJsonpreact_notice=this.webpackJsonpreact_notice||[]).push([[0],{41:function(t,n,e){t.exports=e(71)},46:function(t,n,e){},47:function(t,n,e){},71:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),o=e(22),c=e.n(o),u=(e(46),e(8)),i=e(9),s=e(10),p=e(11),l=(e(47),e(5)),d=e(6),h=e(13),f=e(21),b=function(t,n){return{type:"User/LOGIN_CLEAR",payload:{token:t,userData:n}}},x=function(t){return{type:"User/USER_ERROR",payload:t}},m={token:"",loginData:{}};var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"User/LOGIN_CLEAR":return Object(f.a)(Object(f.a)({},t),{},{token:n.payload.token,loginData:n.payload.userData});case"User/USER_ERROR":alert("ERROR");default:return t}};function O(){var t=Object(l.a)(["\n\tcursor: pointer;\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\n\tpadding: 10px;\n\tmargin-left: 10px;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n\n\ttransition: 0.2s;\n\n\t&:hover {\n\t\tbox-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n\t}\n"]);return O=function(){return t},t}function g(){var t=Object(l.a)(["\n\tborder: none;\n\toutline: none;\n\n\tpadding: 10px;\n\n\twidth: 100%;\n\tmargin-bottom: 10px;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n"]);return g=function(){return t},t}function w(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n"]);return w=function(){return t},t}function j(){var t=Object(l.a)(["\n\tmax-width: 300px;\n\twidth: 100%;\n\theight: fit-content;\n\n\tbox-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);\n\tbackground-color: white;\n\n\tpadding: 20px;\n\tmargin-top: 20px;\n\n\tborder-radius: 10px;\n"]);return j=function(){return t},t}var E=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){var t;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).state={id:"",password:""},t.handleIDInput=function(n){var e=n.target.value;t.setState({id:e})},t.handlePasswordInput=function(n){var e=n.target.value;t.setState({password:e})},t}return Object(i.a)(e,[{key:"render",value:function(){var t=this.props,n=t.dispatchRegister,e=t.dispatchLogin,r=t.user,o=this.state,c=o.id,u=o.password;return(null===r||void 0===r?void 0:r.userID)?a.a.createElement(y,null,r.userID,"\ub2d8"):a.a.createElement(y,null,a.a.createElement("div",null,a.a.createElement(P,{placeholder:"id",type:"text",onChange:this.handleIDInput}),a.a.createElement(P,{placeholder:"password",type:"password",onChange:this.handlePasswordInput})),a.a.createElement(C,null,a.a.createElement(R,{onClick:function(){e({userID:c,password:u})}},"\ub85c\uadf8\uc778"),a.a.createElement(R,{onClick:function(){n({userID:c,password:u})}},"\ud68c\uc6d0\uac00\uc785")))}}]),e}(a.a.Component),k=Object(h.b)((function(t){return{user:t.User.loginData}}),(function(t){return{dispatchRegister:function(n){return t(function(t){return{type:"User/REGISTER",payload:t}}(n))},dispatchLogin:function(n){return t(function(t){return{type:"User/LOGIN",payload:t}}(n))}}}))(E),y=d.a.div(j()),C=d.a.div(w()),P=d.a.input(g()),R=d.a.button(O()),_=e(3),T=e.n(_),S=e(18),I=e(14),L=e.n(I);function D(){var t=Object(l.a)(["\n\tpadding: 10px;\n\n\tdisplay: flex;\n\tjustify-content: space-between;\n"]);return D=function(){return t},t}var A=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){var t;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).handleDeleteComment=Object(S.a)(T.a.mark((function n(){var e,r,a,o;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props,r=e.onChange,a=e.item,o=e.token,n.next=3,L.a.delete("/comment/".concat(a._id),{headers:{Authorization:o}});case 3:r();case 4:case"end":return n.stop()}}),n)}))),t}return Object(i.a)(e,[{key:"render",value:function(){var t=this.props,n=t.item,e=t.user;return a.a.createElement(G,null,a.a.createElement("p",null,n.owner.userID,":",n.content),e._id==n.owner._id&&a.a.createElement("button",{onClick:this.handleDeleteComment},"x"))}}]),e}(a.a.Component),U=Object(h.b)((function(t){var n=t.User;return{user:n.loginData,token:n.token}}),(function(t){return{}}))(A),G=d.a.li(D());function N(){var t=Object(l.a)(["\n\tborder: none;\n\toutline: none;\n\n\tpadding: 10px;\n\twidth: 100%;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n"]);return N=function(){return t},t}function z(){var t=Object(l.a)(["\n\tmargin-top: 10px;\n\n\tdisplay: flex;\n"]);return z=function(){return t},t}var B=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){var t;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).state={content:""},t.handleContentInput=function(n){var e=n.target.value;t.setState({content:e})},t.handleCreatePost=Object(S.a)(T.a.mark((function n(){var e,r,a,o,c,u;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props,r=e.token,a=e.post,o=e.onChange,c=t.state.content,n.next=4,L.a.post("/comment",{content:c,post:a._id},{headers:{Authorization:r}});case 4:u=n.sent,u.data,o();case 7:case"end":return n.stop()}}),n)}))),t}return Object(i.a)(e,[{key:"render",value:function(){return this.props.token?a.a.createElement(W,null,a.a.createElement($,{placeholder:"\ub0b4\uc6a9",onChange:this.handleContentInput}),a.a.createElement("button",{onClick:this.handleCreatePost},"\uc791\uc131")):a.a.createElement(W,null)}}]),e}(a.a.Component),J=Object(h.b)((function(t){return{token:t.User.token}}),(function(t){return{}}))(B),W=d.a.div(z()),$=d.a.input(N());function q(){var t=Object(l.a)(["\n\tcursor: pointer;\n\tborder: none;\n\toutline: none;\n\n\tbackground: none;\n\tbox-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);\n\n\tpadding: 10px;\n\n\t&:hover {\n\t\tfilter: brightness(1.1);\n\t}\n"]);return q=function(){return t},t}function F(){var t=Object(l.a)(["\n\tlist-style: none;\n"]);return F=function(){return t},t}function H(){var t=Object(l.a)([""]);return H=function(){return t},t}var K=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){var t;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).state={isShowComments:!1,commentList:[]},t.handleToggleShowComments=Object(S.a)(T.a.mark((function n(){var e;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.state.isShowComments){n.next=4;break}return n.next=4,t.handleCommentReload();case 4:t.setState({isShowComments:!e});case 5:case"end":return n.stop()}}),n)}))),t.handleCommentReload=Object(S.a)(T.a.mark((function n(){var e,r,a,o;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.state.commentList,r=t.props.post,n.next=4,L.a.get("/post/".concat(r._id,"/get-comments"));case 4:a=n.sent,o=a.data,e=o.data,t.setState({commentList:e});case 8:case"end":return n.stop()}}),n)}))),t}return Object(i.a)(e,[{key:"getComments",value:function(){var t=this;return this.state.commentList.map((function(n){return a.a.createElement(U,{onChange:t.handleCommentReload,item:n,key:n._id})}))}},{key:"render",value:function(){var t=this.state.isShowComments,n=this.props.post;return a.a.createElement(M,null,a.a.createElement(V,{onClick:this.handleToggleShowComments},"\ub313\uae00 \ubcf4\uae30"),t&&a.a.createElement(J,{onChange:this.handleCommentReload,post:n}),t&&a.a.createElement(Q,null,this.getComments()))}}]),e}(a.a.Component),M=d.a.div(H()),Q=d.a.ul(F()),V=d.a.button(q()),X=function(t){return{type:"Post/GET_POST_LIST_CLEAR",payload:t}},Y=function(t){return{type:"Post/POST_ERROR",payload:t}},Z={postList:[]};var tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"Post/GET_POST_LIST_CLEAR":return Object(f.a)(Object(f.a)({},t),{},{postList:n.payload});case"Post/POST_ERROR":alert("ERROR");default:return t}};function nt(){var t=Object(l.a)(["\n\tmargin-bottom: 10px;\n"]);return nt=function(){return t},t}function et(){var t=Object(l.a)(["\n\tmargin-bottom: 10px;\n"]);return et=function(){return t},t}function rt(){var t=Object(l.a)(["\n\tcursor: pointer;\n\tborder: none;\n\toutline: none;\n\n\twidth: fit-content;\n\n\tbackground: none;\n\tbox-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);\n\n\tpadding: 10px;\n\n\tmargin-bottom: 10px;\n\n\t&:hover {\n\t\tfilter: brightness(1.1);\n\t}\n"]);return rt=function(){return t},t}function at(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return at=function(){return t},t}function ot(){var t=Object(l.a)(["\n\tpadding: 20px;\n\n\tmargin: 20px;\n\n\tborder-radius: 10px;\n\n\tbox-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);\n\tbackground-color: white;\n"]);return ot=function(){return t},t}var ct=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){return Object(u.a)(this,e),n.apply(this,arguments)}return Object(i.a)(e,[{key:"render",value:function(){var t=this.props,n=t.item,e=t.user,r=t.token,o=t.dispatchDeletePost;return a.a.createElement(it,null,a.a.createElement(lt,null,n.title,"(",n.owner.userID,")"),a.a.createElement(dt,null,n.content),a.a.createElement(st,null,e._id===n.owner._id&&a.a.createElement(pt,{onClick:function(){return o(r,n)}},"\uae00 \uc0ad\uc81c"),a.a.createElement(K,{post:n})))}}]),e}(a.a.Component),ut=Object(h.b)((function(t){var n=t.User;return{user:n.loginData,token:n.token}}),(function(t){return{dispatchDeletePost:function(n,e){t(function(t,n){return{type:"Post/DELETE_POST",payload:{token:t,post:n}}}(n,e))}}}))(ct),it=d.a.article(ot()),st=d.a.div(at()),pt=d.a.button(rt()),lt=d.a.h2(et()),dt=d.a.p(nt());function ht(){var t=Object(l.a)(["\n\tcursor: pointer;\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\n\tpadding: 10px;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n\n\ttransition: 0.2s;\n\n\t&:hover {\n\t\tbox-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n\t}\n"]);return ht=function(){return t},t}function ft(){var t=Object(l.a)(["\n\twidth: 100%;\n\n\tdisplay: flex;\n\tjustify-content: flex-end;\n"]);return ft=function(){return t},t}function bt(){var t=Object(l.a)(["\n\tborder: none;\n\toutline: none;\n\n\tpadding: 10px;\n\twidth: 100%;\n\tmin-height: 6em;\n\n\tmargin-bottom: 10px;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n"]);return bt=function(){return t},t}function xt(){var t=Object(l.a)(["\n\tborder: none;\n\toutline: none;\n\n\tpadding: 10px;\n\n\twidth: 100%;\n\tmargin-bottom: 10px;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n"]);return xt=function(){return t},t}function mt(){var t=Object(l.a)(["\n\tpadding: 20px;\n\n\tmargin: 20px;\n\n\tborder-radius: 10px;\n\n\tbox-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);\n\tbackground-color: white;\n"]);return mt=function(){return t},t}var vt=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){var t;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).state={title:"",content:""},t.handleTitleInput=function(n){var e=n.target.value;t.setState({title:e})},t.handleContentInput=function(n){var e=n.target.value;t.setState({content:e})},t}return Object(i.a)(e,[{key:"render",value:function(){var t=this.props,n=t.dispatchPostCreate,e=t.token,r=this.state,o=r.title,c=r.content;return a.a.createElement(gt,null,a.a.createElement(wt,{placeholder:"\uc81c\ubaa9",onChange:this.handleTitleInput}),a.a.createElement(jt,{placeholder:"\ub0b4\uc6a9",onChange:this.handleContentInput}),a.a.createElement(Et,null,a.a.createElement(kt,{onClick:function(){n(e,{title:o,content:c})}},"\uae00 \uc4f0\uae30")))}}]),e}(a.a.Component),Ot=Object(h.b)((function(t){return{token:t.User.token}}),(function(t){return{dispatchPostCreate:function(n,e){return t(function(t,n){return{type:"Post/CREATE_POST",payload:{token:t,post:n}}}(n,e))}}}))(vt),gt=d.a.div(mt()),wt=d.a.input(xt()),jt=d.a.textarea(bt()),Et=d.a.div(ft()),kt=d.a.button(ht());function yt(){var t=Object(l.a)(["\n\tcursor: pointer;\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\n\tpadding: 10px;\n\n\tmargin: 20px;\n\n\tbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);\n\tbackground-color: white;\n\n\ttransition: 0.2s;\n\n\t&:hover {\n\t\tbox-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n\t}\n"]);return yt=function(){return t},t}function Ct(){var t=Object(l.a)(["\n\twidth: 100%;\n\tmax-width: 720px;\n\theight: 100%;\n\n\toverflow-y: scroll;\n\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return Ct=function(){return t},t}var Pt=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(t){var r;return Object(u.a)(this,e),(r=n.call(this,t)).handleReloadPost=function(){(0,r.props.dispatchGetPostList)()},r.handleReloadPost(),r}return Object(i.a)(e,[{key:"getPostItems",value:function(){var t=this.props.list;return t.reverse(),t.map((function(t){return a.a.createElement(ut,{item:t,key:t._id})}))}},{key:"render",value:function(){var t=this.props.token;return a.a.createElement(_t,null,a.a.createElement(Tt,{onClick:this.handleReloadPost},"\uc0c8\ub85c\uace0\uce68"),t&&a.a.createElement(Ot,null),this.getPostItems())}}]),e}(a.a.Component),Rt=Object(h.b)((function(t){return{list:t.Post.postList,token:t.User.token}}),(function(t){return{dispatchGetPostList:function(){return t({type:"Post/GET_POST_LIST",payload:null})}}}))(Pt),_t=d.a.section(Ct()),Tt=d.a.button(yt()),St=function(t){Object(p.a)(e,t);var n=Object(s.a)(e);function e(){return Object(u.a)(this,e),n.apply(this,arguments)}return Object(i.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(k,null),a.a.createElement(Rt,null),a.a.createElement("nav",{className:"nav"}))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var It=e(17),Lt=e(40),Dt=e(7),At=T.a.mark(Jt),Ut=T.a.mark(Wt),Gt=T.a.mark($t),Nt=T.a.mark(qt),zt=T.a.mark(Ft),Bt=T.a.mark(Ht);function Jt(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/post");case 3:return t=e.sent,n=t.data,e.next=7,Object(Dt.b)(X(n.data));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(Dt.b)(Y(e.t0));case 13:case"end":return e.stop()}}),At,null,[[0,9]])}function Wt(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.c)("Post/GET_POST_LIST",Jt);case 2:case"end":return t.stop()}}),Ut)}function $t(t){var n,e,r,a;return T.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.payload,e=n.post,r=n.token,o.next=4,L.a.post("/post",e,{headers:{Authorization:r}});case 4:return a=o.sent,a.data,o.next=8,Object(Dt.b)({type:"Post/GET_POST_LIST",payload:null});case 8:return o.next=10,Object(Dt.b)({type:"Post/CREATE_POST_CLEAR",payload:null});case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(0),o.next=16,Object(Dt.b)(Y(o.t0));case 16:case"end":return o.stop()}}),Gt,null,[[0,12]])}function qt(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.c)("Post/CREATE_POST",$t);case 2:case"end":return t.stop()}}),Nt)}function Ft(t){var n,e,r,a;return T.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t.payload,e=n.post,r=n.token,o.next=4,L.a.delete("/post/".concat(e._id),{headers:{Authorization:r}});case 4:return a=o.sent,a.data,o.next=8,Object(Dt.b)({type:"Post/GET_POST_LIST",payload:null});case 8:return o.next=10,Object(Dt.b)({type:"Post/DELETE_POST_CLEAR",payload:null});case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(0),o.next=16,Object(Dt.b)(Y(o.t0));case 16:case"end":return o.stop()}}),zt,null,[[0,12]])}function Ht(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.c)("Post/DELETE_POST",Ft);case 2:case"end":return t.stop()}}),Bt)}var Kt=T.a.mark(Xt),Mt=T.a.mark(Yt),Qt=T.a.mark(Zt),Vt=T.a.mark(tn);function Xt(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("/auth/user",t.payload);case 3:return n=e.sent,n.data,e.next=7,Object(Dt.b)({type:"User/REGISTER_CLEAR",payload:!0});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(Dt.b)(x(e.t0));case 13:case"end":return e.stop()}}),Kt,null,[[0,9]])}function Yt(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.c)("User/REGISTER",Xt);case 2:case"end":return t.stop()}}),Mt)}function Zt(t){var n,e,r,a,o;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,L.a.post("/auth/user/login",t.payload);case 3:return n=c.sent,e=n.data,r=e.data,c.next=8,L.a.post("/auth/user/my",{},{headers:{Authorization:r}});case 8:return a=c.sent,o=a.data,c.next=12,Object(Dt.b)(b(r,o.data));case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(0),c.next=18,Object(Dt.b)(x(c.t0));case 18:case"end":return c.stop()}}),Qt,null,[[0,14]])}function tn(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.c)("User/LOGIN",Zt);case 2:case"end":return t.stop()}}),Vt)}var nn=T.a.mark(en);function en(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Dt.a)([Wt(),Yt(),tn(),qt(),Ht()]);case 2:case"end":return t.stop()}}),nn)}var rn=Object(It.c)({Post:tt,User:v}),an=Object(Lt.a)(),on=Object(It.e)(rn,Object(It.a)(an));an.run(en),c.a.render(a.a.createElement(h.a,{store:on},a.a.createElement(St,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.47ac77c6.chunk.js.map